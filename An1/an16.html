<!DOCTYPE html>
<html ng-app >
<head lang="en">
    <meta charset="UTF-8">
    <script src="js/angular.min.js" type="text/javascript"></script>
    <title></title>

</head>
<body>
<input type="text" id="num" onblur="an()" onfocus="bn()"/>
<p id="p"></p>




</body>

<script type="text/javascript">
    //    var str=document.getElementById("num").value;

    //    var result=reg.test(str);

    var an=function(){
//        var reg=/^-?[1-9]\\d*$/;//整数
//        var reg2=/^\d*$/;
//        var reg3=/^-?\d+$/;
        var reg = /^[1-9]*$/;
        var str=document.getElementById("num").value;
        console.log("检验正则"+!reg.test(str));
        var flag = reg.test(str);
//        console.log("flag的值:"+flag);
//
//        console.log("转换前"+isNaN(str));
          str=parseInt(str);
          console.log("str的值："+str);
//        console.log("后"+isNaN(str));


        if(isNaN(str)){

            document.getElementById("p").innerHTML="请输入数字";
            document.getElementById("num").value="";

        } else if(!reg.test(str)){
            document.getElementById("p").innerHTML="请输入整数";
            document.getElementById("num").value="";

        } else {
            console.log("执行标记");
            document.getElementById("p").innerHTML="输入正确";
        }


    }
    var bn= function () {
        document.getElementById("p").innerHTML="";
    }

</script>
</html>